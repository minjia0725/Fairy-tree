{"version":3,"sources":["webpack:///./src/views/frontend/CheckOut.vue?6dda","webpack:///src/views/frontend/CheckOut.vue","webpack:///./src/views/frontend/CheckOut.vue?c248","webpack:///./src/views/frontend/CheckOut.vue","webpack:///./src/components/OrderProcess.vue?0f0e","webpack:///src/components/OrderProcess.vue","webpack:///./src/components/OrderProcess.vue?5a32","webpack:///./src/components/OrderProcess.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","slot","_v","preventDefault","createOrder","directives","name","rawName","value","form","user","expression","class","errors","has","domProps","target","composing","$set","_e","_s","first","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","_m","_l","cartProducts","order","key","product","imageUrl","title","_f","price","unit","qty","total","final_total","coupon_code","addCouponCode","staticRenderFns","data","email","tel","address","pay","message","components","orderProcess","mixins","getCartProducts","methods","vm","$validator","validate","then","valid","$http","post","api","res","success","$router","push","$swal","fire","position","width","icon","code","showConfirmButton","timer","component","_t"],"mappings":"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","file":"js/chunk-05ceac90.56eca924.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"can-cancel\":true,\"loader\":'dots',\"color\":'black',\"width\":100,\"background-color\":'rgba(148,148,148)'},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"row mt-4 justify-content-center\"},[_c('div',{staticClass:\"col-10\"},[_c('orderProcess',[_c('i',{staticClass:\"far fa-check-circle\",attrs:{\"slot\":\"change1\"},slot:\"change1\"}),_c('h6',{staticClass:\"border border-primary bg-primary text-white text-center rounded py-2\",attrs:{\"slot\":\"change2\"},slot:\"change2\"},[_vm._v(\" 2.填寫訂單資料 \"),_c('i',{staticClass:\"far fa-circle\"})])])],1),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"row mb-6\"},[_c('div',{staticClass:\"col-md-7 checkout mt-4\"},[_c('h2',{staticClass:\"font-weight-bold\"},[_vm._v(\"訂單資訊\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-group mt-4\"},[_c('label',{attrs:{\"for\":\"nameInput\"}},[_vm._v(\"*收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control rounded-0 border-primary\",class:{ 'is-invalid': _vm.errors.has('name') },attrs:{\"name\":\"name\",\"type\":\"text\",\"id\":\"nameInput\",\"aria-describedby\":\"nameImput\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請輸入姓名\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"emailInput\"}},[_vm._v(\"*Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.errors.has('email') },attrs:{\"name\":\"email\",\"type\":\"email\",\"id\":\"emailInput\",\"aria-describedby\":\"emailHelp\",\"placeholder\":\"請輸入Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.first(\"email\")))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"phoneInput\"}},[_vm._v(\"*收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.errors.has('tel') },attrs:{\"name\":\"tel\",\"type\":\"tel\",\"id\":\"phoneInput\",\"aria-describedby\":\"phoneImput\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),(_vm.errors.has('tel'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請輸入電話\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"addressInput\"}},[_vm._v(\"*收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control rounded-0\",class:{ 'is-invalid': _vm.errors.has('address') },attrs:{\"name\":\"address\",\"type\":\"text\",\"id\":\"addressInput\",\"aria-describedby\":\"addressImput\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請輸入地址\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"paySelect\"}},[_vm._v(\"*付款方式\")]),_c('select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.pay),expression:\"form.user.pay\"}],staticClass:\"form-control rounded-0\",class:{ 'is-invalid': _vm.errors.has('pay') },attrs:{\"name\":\"pay\",\"id\":\"paySelect\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form.user, \"pay\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\",\"selected\":\"\",\"hidden\":\"\"}},[_vm._v(\"請選擇付款方式\")]),_c('option',{attrs:{\"value\":\"貨到付款\"}},[_vm._v(\"貨到付款\")]),_c('option',{attrs:{\"value\":\"ATM\"}},[_vm._v(\"ATM\")]),_c('option',{attrs:{\"value\":\"Credit Card\"}},[_vm._v(\"Credit Card\")]),_c('option',{attrs:{\"value\":\"ApplePay\"}},[_vm._v(\"ApplePay\")]),_c('option',{attrs:{\"value\":\"GooglePay\"}},[_vm._v(\"GooglePay\")])]),(_vm.errors.has('pay'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請選擇付款方式\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"message\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"message\",\"cols\":\"30\",\"rows\":\"5\",\"placeholder\":\"歡迎留下備註\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_vm._m(0)])]),_c('div',{staticClass:\"col-md-5 checkout\"},[_c('div',{staticClass:\"border border-primary px-6 py-7 mt-md-4 sticky-top\"},[_c('h2',{staticClass:\"h3 font-weight-bold\"},[_vm._v(\"訂單明細\")]),_vm._l((_vm.cartProducts.carts),function(order,key){return _c('div',{key:key,staticClass:\"d-flex justify-content-between mb-2\"},[_c('div',{staticClass:\"d-flex\"},[_c('img',{staticClass:\"checkout-orders-img\",attrs:{\"src\":order.product.imageUrl}}),_c('div',{staticClass:\"ml-3\"},[_c('h5',{staticClass:\"checkout-orders-title\"},[_vm._v(\" \"+_vm._s(order.product.title)+\" \")]),_c('span',[_vm._v(_vm._s(_vm._f(\"currency\")(order.product.price))+\" / \"+_vm._s(order.product.unit))])])]),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"x\"+_vm._s(order.qty))])])}),_c('hr',{staticClass:\"border-primary\"}),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('span',[_vm._v(\"小計\")]),_c('span',[_vm._v(\"NT \"+_vm._s(_vm._f(\"currency\")(_vm.cartProducts.total)))])]),(_vm.cartProducts.total !== _vm.cartProducts.final_total)?_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('span',[_vm._v(\"折扣\")]),_c('span',[_vm._v(\"- NT \"+_vm._s(_vm._f(\"currency\")((_vm.cartProducts.total - _vm.cartProducts.final_total))))])]):_vm._e(),_c('div',{staticClass:\"input-group mt-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"border-primary form-control rounded-0\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\",\"aria-label\":\"請輸入優惠碼\",\"aria-describedby\":\"button-addon2\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary rounded-0\",attrs:{\"type\":\"button\",\"id\":\"button-addon2\"},on:{\"click\":_vm.addCouponCode}},[_vm._v(\" 套用優惠碼 \")])])]),_c('hr',{staticClass:\"border-primary\"}),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('span',{staticClass:\"h3\"},[_vm._v(\"總計\")]),_c('span',{staticClass:\"h3\"},[_vm._v(\"NT \"+_vm._s(_vm._f(\"currency\")(_vm.cartProducts.final_total)))])])],2)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-right mb-3 mb-md-0\"},[_c('input',{staticClass:\"btn btn-primary rounded-0\",attrs:{\"type\":\"submit\",\"value\":\"送出訂單\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <loading\r\n      :active.sync=\"isLoading\"\r\n      :can-cancel=\"true\"\r\n      :loader=\"'dots'\"\r\n      :color=\"'black'\"\r\n      :width=\"100\"\r\n      :background-color=\"'rgba(148,148,148)'\"\r\n    >\r\n    </loading>\r\n    <div class=\"row mt-4 justify-content-center\">\r\n      <div class=\"col-10\">\r\n        <orderProcess>\r\n          <i class=\"far fa-check-circle\" slot=\"change1\"></i>\r\n          <h6\r\n            class=\"border border-primary bg-primary text-white text-center rounded py-2\"\r\n            slot=\"change2\"\r\n          >\r\n            2.填寫訂單資料\r\n            <i class=\"far fa-circle\"></i>\r\n          </h6>\r\n        </orderProcess>\r\n      </div>\r\n      <div class=\"col-md-10\">\r\n        <div class=\"row mb-6\">\r\n          <div class=\"col-md-7 checkout mt-4\">\r\n            <h2 class=\"font-weight-bold\">訂單資訊</h2>\r\n            <form @submit.prevent=\"createOrder\">\r\n              <div class=\"form-group mt-4\">\r\n                <label for=\"nameInput\">*收件人姓名</label>\r\n                <input\r\n                  name=\"name\"\r\n                  type=\"text\"\r\n                  class=\"form-control rounded-0 border-primary\"\r\n                  :class=\"{ 'is-invalid': errors.has('name') }\"\r\n                  id=\"nameInput\"\r\n                  aria-describedby=\"nameImput\"\r\n                  placeholder=\"請輸入姓名\"\r\n                  v-model=\"form.user.name\"\r\n                  v-validate=\"'required'\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('name')\"\r\n                  >請輸入姓名</span\r\n                >\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"emailInput\">*Email</label>\r\n                <input\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  class=\"form-control\"\r\n                  id=\"emailInput\"\r\n                  :class=\"{ 'is-invalid': errors.has('email') }\"\r\n                  aria-describedby=\"emailHelp\"\r\n                  placeholder=\"請輸入Email\"\r\n                  v-model=\"form.user.email\"\r\n                  v-validate=\"'required|email'\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('email')\">{{\r\n                  errors.first(\"email\")\r\n                }}</span>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"phoneInput\">*收件人電話</label>\r\n                <input\r\n                  :class=\"{ 'is-invalid': errors.has('tel') }\"\r\n                  name=\"tel\"\r\n                  type=\"tel\"\r\n                  class=\"form-control\"\r\n                  id=\"phoneInput\"\r\n                  aria-describedby=\"phoneImput\"\r\n                  placeholder=\"請輸入電話\"\r\n                  v-model=\"form.user.tel\"\r\n                  v-validate=\"'required'\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('tel')\"\r\n                  >請輸入電話</span\r\n                >\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"addressInput\">*收件人地址</label>\r\n                <input\r\n                  :class=\"{ 'is-invalid': errors.has('address') }\"\r\n                  name=\"address\"\r\n                  type=\"text\"\r\n                  class=\"form-control rounded-0\"\r\n                  id=\"addressInput\"\r\n                  aria-describedby=\"addressImput\"\r\n                  placeholder=\"請輸入地址\"\r\n                  v-model=\"form.user.address\"\r\n                  v-validate=\"'required'\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('address')\"\r\n                  >請輸入地址</span\r\n                >\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"paySelect\">*付款方式</label>\r\n                <select\r\n                  :class=\"{ 'is-invalid': errors.has('pay') }\"\r\n                  name=\"pay\"\r\n                  id=\"paySelect\"\r\n                  class=\"form-control rounded-0\"\r\n                  v-validate=\"'required'\"\r\n                  v-model=\"form.user.pay\"\r\n                >\r\n                  <option value disabled selected hidden>請選擇付款方式</option>\r\n                  <option value=\"貨到付款\">貨到付款</option>\r\n                  <option value=\"ATM\">ATM</option>\r\n                  <option value=\"Credit Card\">Credit Card</option>\r\n                  <option value=\"ApplePay\">ApplePay</option>\r\n                  <option value=\"GooglePay\">GooglePay</option>\r\n                </select>\r\n                <span class=\"text-danger\" v-if=\"errors.has('pay')\"\r\n                  >請選擇付款方式</span\r\n                >\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"message\">留言</label>\r\n                <textarea\r\n                  class=\"form-control\"\r\n                  id=\"message\"\r\n                  cols=\"30\"\r\n                  rows=\"5\"\r\n                  v-model=\"form.message\"\r\n                  placeholder=\"歡迎留下備註\"\r\n                ></textarea>\r\n              </div>\r\n              <div class=\"text-right mb-3 mb-md-0\">\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"送出訂單\"\r\n                  class=\"btn btn-primary rounded-0\"\r\n                />\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class=\"col-md-5 checkout\">\r\n            <div class=\"border border-primary px-6 py-7 mt-md-4 sticky-top\">\r\n              <h2 class=\"h3 font-weight-bold\">訂單明細</h2>\r\n              <div\r\n                class=\"d-flex justify-content-between mb-2\"\r\n                v-for=\"(order, key) in cartProducts.carts\"\r\n                :key=\"key\"\r\n              >\r\n                <div class=\"d-flex\">\r\n                  <img\r\n                    :src=\"order.product.imageUrl\"\r\n                    class=\"checkout-orders-img\"\r\n                  />\r\n                  <div class=\"ml-3\">\r\n                    <h5 class=\"checkout-orders-title\">\r\n                      {{ order.product.title }}\r\n                    </h5>\r\n                    <span\r\n                      >{{ order.product.price | currency }} /\r\n                      {{ order.product.unit }}</span\r\n                    >\r\n                  </div>\r\n                </div>\r\n                <span class=\"ml-2\">x{{ order.qty }}</span>\r\n              </div>\r\n              <hr class=\"border-primary\" />\r\n              <div class=\"d-flex justify-content-between\">\r\n                <span>小計</span>\r\n                <span>NT {{ cartProducts.total | currency }}</span>\r\n              </div>\r\n              <div\r\n                class=\"d-flex justify-content-between\"\r\n                v-if=\"cartProducts.total !== cartProducts.final_total\"\r\n              >\r\n                <span>折扣</span>\r\n                <span\r\n                  >- NT\r\n                  {{\r\n                    (cartProducts.total - cartProducts.final_total) | currency\r\n                  }}</span\r\n                >\r\n              </div>\r\n              <div class=\"input-group mt-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"border-primary form-control rounded-0\"\r\n                  placeholder=\"請輸入優惠碼\"\r\n                  aria-label=\"請輸入優惠碼\"\r\n                  aria-describedby=\"button-addon2\"\r\n                  v-model=\"coupon_code\"\r\n                />\r\n                <div class=\"input-group-append\">\r\n                  <button\r\n                    class=\"btn btn-primary rounded-0\"\r\n                    type=\"button\"\r\n                    id=\"button-addon2\"\r\n                    @click=\"addCouponCode\"\r\n                  >\r\n                    套用優惠碼\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <hr class=\"border-primary\" />\r\n              <div class=\"d-flex justify-content-between\">\r\n                <span class=\"h3\">總計</span>\r\n                <span class=\"h3\"\r\n                  >NT {{ cartProducts.final_total | currency }}</span\r\n                >\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport orderProcess from '@/components/OrderProcess.vue'\r\nimport getCartProducts from '@/assets/js/getCartProducts.js'\r\n\r\nexport default {\r\n  name: 'Checkout',\r\n  data () {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: '',\r\n          pay: ''\r\n        },\r\n        message: ''\r\n      },\r\n      isLoading: false,\r\n      coupon_code: ''\r\n    }\r\n  },\r\n  components: {\r\n    orderProcess\r\n  },\r\n  mixins: [getCartProducts],\r\n  methods: {\r\n    createOrder () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_CUSTOMPATH}/order`\r\n      const order = vm.form\r\n      vm.$validator.validate().then((valid) => {\r\n        if (valid) {\r\n          vm.$http.post(api, { data: order }).then((res) => {\r\n            if (res.data.success) {\r\n              vm.$router.push(`/customerCheckOut/${res.data.orderId}`)\r\n            }\r\n          })\r\n        } else {\r\n          vm.$swal.fire({\r\n            position: 'center',\r\n            width: '20rem',\r\n            icon: 'error',\r\n            title: '欄位不完整，請填寫正確資料'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    addCouponCode () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_CUSTOMPATH}/coupon`\r\n      const coupon = {\r\n        code: vm.coupon_code\r\n      }\r\n      if (vm.coupon_code === '') {\r\n        vm.$swal.fire({\r\n          position: 'top',\r\n          width: '20rem',\r\n          icon: 'error',\r\n          title: '優惠碼不得為空',\r\n          showConfirmButton: false,\r\n          timer: 1000\r\n        })\r\n      } else if (vm.coupon_code !== 'FairyTree') {\r\n        vm.$swal.fire({\r\n          position: 'top',\r\n          width: '20rem',\r\n          icon: 'error',\r\n          title: '無此優惠碼',\r\n          showConfirmButton: false,\r\n          timer: 1000\r\n        })\r\n      } else {\r\n        vm.$http.post(api, { data: coupon }).then((res) => {\r\n          vm.getCartProducts()\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOut.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOut.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckOut.vue?vue&type=template&id=08b8af3a&\"\nimport script from \"./CheckOut.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckOut.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-lg-3\"},[_c('h6',{staticClass:\"border border-primary bg-primary text-white text-center rounded py-2\"},[_vm._v(\" 1.確認購物清單 \"),_vm._t(\"change1\",[_c('i',{staticClass:\"far fa-circle\"})])],2)]),_c('div',{staticClass:\"col-lg-3\"},[_vm._t(\"change2\",[_vm._m(0)])],2),_c('div',{staticClass:\"col-lg-3\"},[_vm._t(\"change3\",[_vm._m(1)])],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h6',{staticClass:\"border border-primary text-center rounded py-2\"},[_vm._v(\" 2.填寫訂單資料 \"),_c('i',{staticClass:\"far fa-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h6',{staticClass:\"border border-primary text-center rounded py-2\"},[_vm._v(\" 3.付款 & 完成 \"),_c('i',{staticClass:\"far fa-circle\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col-lg-3\">\r\n      <h6\r\n        class=\"border border-primary bg-primary text-white text-center rounded py-2\"\r\n      >\r\n        1.確認購物清單\r\n        <slot name=\"change1\">\r\n          <i class=\"far fa-circle\"></i>\r\n        </slot>\r\n      </h6>\r\n    </div>\r\n    <div class=\"col-lg-3\">\r\n      <slot name=\"change2\">\r\n        <h6 class=\"border border-primary text-center rounded py-2\">\r\n          2.填寫訂單資料\r\n          <i class=\"far fa-circle\"></i>\r\n        </h6>\r\n      </slot>\r\n    </div>\r\n    <div class=\"col-lg-3\">\r\n      <slot name=\"change3\">\r\n        <h6 class=\"border border-primary text-center rounded py-2\">\r\n          3.付款 & 完成\r\n          <i class=\"far fa-circle\"></i>\r\n        </h6>\r\n      </slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'OrderProcess'\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderProcess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderProcess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderProcess.vue?vue&type=template&id=3cb4a03e&\"\nimport script from \"./OrderProcess.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderProcess.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}