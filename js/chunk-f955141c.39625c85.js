(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f955141c"],{"159b":function(t,e,r){var i=r("da84"),o=r("fdbc"),a=r("17c2"),n=r("9112");for(var s in o){var c=i[s],l=c&&c.prototype;if(l&&l.forEach!==a)try{n(l,"forEach",a)}catch(d){l.forEach=a}}},"17c2":function(t,e,r){"use strict";var i=r("b727").forEach,o=r("a640"),a=r("ae40"),n=o("forEach"),s=a("forEach");t.exports=n&&s?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"32cd":function(t,e,r){"use strict";r("99af"),r("c975");e["a"]={data:function(){return{status:{loadingItem:""}}},methods:{addtoCart:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this,o="".concat("https://vue-course-api.hexschool.io/","api/").concat("minjia","/cart");i.status.loadingItem=t;var a={product_id:t,qty:r},n=i.cartProductsID.indexOf(t);-1===n?this.$http.post(o,{data:a}).then((function(t){i.status.loadingItem="",e.$swal.fire({position:"center",width:"20rem",icon:"success",title:"成功加入購物車",showConfirmButton:!1,timer:800}),i.getCartProducts()})):(i.status.loadingItem="",this.$swal.fire({position:"center",width:"22rem",icon:"warning",title:"購物車有相同商品",showConfirmButton:!1,timer:800}))}}}},4160:function(t,e,r){"use strict";var i=r("23e7"),o=r("17c2");i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"466d":function(t,e,r){"use strict";var i=r("d784"),o=r("825a"),a=r("50c4"),n=r("1d80"),s=r("8aa5"),c=r("14c3");i("match",1,(function(t,e,r){return[function(e){var r=n(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,r):new RegExp(e)[t](String(r))},function(t){var i=r(e,t,this);if(i.done)return i.value;var n=o(t),l=String(this);if(!n.global)return c(n,l);var d=n.unicode;n.lastIndex=0;var u,f=[],p=0;while(null!==(u=c(n,l))){var h=String(u[0]);f[p]=h,""===h&&(n.lastIndex=s(l,a(n.lastIndex),d)),p++}return 0===p?null:f}]}))},"675e":function(t,e,r){"use strict";r("99af"),r("c975");e["a"]={methods:{goToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this;r.isLoading=!0;var i="".concat("https://vue-course-api.hexschool.io/","api/").concat("minjia","/cart"),o={product_id:t,qty:e},a=r.cartProductsID.indexOf(t);-1===a?this.$http.post(i,{data:o}).then((function(t){r.isLoading=!1,r.$router.push("/cart")})):r.$router.push("/cart")}}}},"89e2":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("loading",{attrs:{active:t.isLoading,"can-cancel":!0,loader:"dots",color:"black",width:100,"background-color":"rgba(148,148,148)"},on:{"update:active":function(e){t.isLoading=e}}}),r("div",[r("div",{staticClass:"product-bgi bg-cover d-flex-center flex-column",staticStyle:{"background-image":"url('https://ibighit.com/bts/images/bts/schedule/schedule-kv.jpg')"}},[r("h2",{staticClass:"product-bgi-text font-weight-bold mb-0 text-white"},[t._v(" "+t._s(t.filter||"所有商品")+" ")])])]),r("div",{staticClass:"container mt-6"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-4 col-lg-3 mb-4 mb-md-0 product"},[r("div",{staticClass:"list-group rounded-0 sticky-top"},[r("a",{staticClass:"list-group-item list-group-item-action border-primary py-2 h4 mb-0 text-decoration-none",class:{active:""==t.filter},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filter="",t.getItem(t.filter)}}},[t._v(" 所有商品 ")]),t._l(t.column,(function(e){return r("a",{key:e,staticClass:"list-group-item list-group-item-action border-primary py-2 h4 mb-0 text-decoration-none",class:{active:t.filter==e},attrs:{href:"#"},on:{click:function(r){r.preventDefault(),t.filter=e,t.getItem(t.filter)}}},[t._v(" "+t._s(e)+" （"+t._s(t.getCount[e])+"） ")])}))],2)]),r("div",{staticClass:"col-sm-8 col-lg-9"},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],staticClass:"form-control rounded-0",attrs:{type:"text",placeholder:"Search：","aria-describedby":"basic-addon1"},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}})]),r("ul",{staticClass:"product-group border border-primary mb-0 py-1 px-2"},[r("li",{staticClass:"product-bgi-text"},[r("a",{staticClass:"h5 product-bgi-text-style",attrs:{href:"#",id:"moneyDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(t){t.preventDefault()}}},[t._v("商品排序 "),r("i",{staticClass:"fas fa-sort"})]),r("div",{staticClass:"dropdown-menu rounded-0 py-0 border-bottom-0 border-primary",attrs:{"aria-labelledby":"moneyDropdown"}},[r("a",{staticClass:"dropdown-item pl-1 product-dropdown-item border-bottom border-primary",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.sort=!0}}},[r("i",{staticClass:"fas fa-sort-numeric-down-alt"}),t._v(" 價格高到低")]),r("a",{staticClass:"dropdown-item pl-1 product-dropdown-item border-bottom border-primary",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.sort=!1}}},[r("i",{staticClass:"fas fa-sort-numeric-up-alt"}),t._v(" 價格低到高")])])])])])]),t._l(t.filterData,(function(e,i){return r("div",{key:i,staticClass:"col-12 col-md-6 col-lg-4 mb-4"},[r("div",{staticClass:"card rounded-0 border-0 bg-transparent h-100 product-item-style"},[r("div",{staticClass:"bg-cover product-card-img",style:{backgroundImage:"url("+e.imageUrl+")"}},[r("div",{staticClass:"product-card-favorite text-danger",on:{click:function(r){return t.addfavorite(e.id)}}},[t.favorites.includes(e.id)?r("i",{staticClass:"fas fa-heart"}):r("i",{staticClass:"far fa-heart"})]),r("router-link",{attrs:{to:"/customerProduct/"+e.id,tag:"div"}},[r("div",{staticClass:"d-flex-center w-100 product-card-box"})])],1),r("div",{staticClass:"card-body bg-primary px-3 py-2 pb-3 d-flex flex-column justify-content-between"},[r("div",{staticClass:"text-white"},[r("h6",{staticClass:"product-title text-white font-weight-bold mb-3"},[t._v(" "+t._s(e.title)+" ")])]),r("div",{},[r("div",[r("div",{staticClass:"d-flex justify-content-between align-items-end border-top"},[r("del",{staticClass:"text-third product-origin_price font-weight-bold"},[t._v(t._s(t._f("currency")(e.origin_price)))]),r("span",{staticClass:"text-white h4 mb-0 font-weight-bold"},[r("span",{staticClass:"h5 mb-0"},[t._v("SALE")]),t._v(" "+t._s(t._f("currency")(e.price)))])])]),r("div",{staticClass:"ml-auto mt-2"},[r("button",{staticClass:"btn btn-block product-goCart btn-sm rounded-0",attrs:{type:"button"},on:{click:function(r){return t.addtoCart(e.id)}}},[t.status.loadingItem===e.id?r("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加入購物車 ")]),r("button",{staticClass:"px-4 btn-block btn btn-danger btn-sm rounded-0",on:{click:function(r){return t.goToCart(e.id)}}},[t._v(" 直接購買 ")])])])])])])}))],2)])])])],1)},o=[],a=(r("99af"),r("4de4"),r("4160"),r("c975"),r("d81d"),r("a434"),r("d3b7"),r("ac1f"),r("6062"),r("3ca3"),r("466d"),r("159b"),r("ddb0"),r("2909")),n=r("32cd"),s=r("675e"),c=r("4c77"),l={name:"CustomerProducts",data:function(){return{productAll:[],column:[],columnAll:[],counts:{},filter:"",filterText:"",favorites:JSON.parse(localStorage.getItem("addFavoriteID"))||[],sort:!0,isLoading:!1}},mixins:[n["a"],s["a"],c["a"]],methods:{getProductall:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("minjia","/products/all");t.isLoading=!0,t.$http.get(e).then((function(e){t.productAll=e.data.products,t.column=Object(a["a"])(new Set(t.productAll.map((function(t){return t.category})))),t.columnAll=t.productAll.map((function(t){return t.category})),t.isLoading=!1}))},addfavorite:function(t){var e=this,r=e.favorites.indexOf(t);-1===r?(e.favorites.push(t),e.$swal.fire({position:"center",width:"20rem",icon:"success",title:"已加入收藏",showConfirmButton:!1,timer:1e3})):(e.favorites.splice(r,1),e.$swal.fire({position:"center",width:"20rem",icon:"success",title:"已移除收藏",showConfirmButton:!1,timer:1e3})),localStorage.setItem("addFavoriteID",JSON.stringify(e.favorites))},getCategory:function(){var t=this;t.$route.query.category&&(t.filter=t.$route.query.category)},getItem:function(t){var e=this;e.filter=t,e.$route.query.category&&e.$router.push("/customerProducts")}},computed:{getCount:function(){var t=this;return t.columnAll.forEach((function(e){t.counts[e]=(t.counts[e]||0)+1})),t.counts},filterProducts:function(){var t=this;return t.productAll.filter((function(e){return e.category.match(t.filter)}))},sortProducts:function(){var t=this;return t.filterProducts.sort((function(e,r){return t.sort?r.price-e.price:t.sort?void 0:e.price-r.price}))},filterData:function(){var t=this;return t.sortProducts.filter((function(e){return e.title.match(t.filterText.toUpperCase(),t.filterText.toUpperCase())}))}},created:function(){this.getProductall(),this.getCategory()}},d=l,u=r("2877"),f=Object(u["a"])(d,i,o,!1,null,null,null);e["default"]=f.exports},a434:function(t,e,r){"use strict";var i=r("23e7"),o=r("23cb"),a=r("a691"),n=r("50c4"),s=r("7b0b"),c=r("65f0"),l=r("8418"),d=r("1dde"),u=r("ae40"),f=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var r,i,d,u,f,p,b=s(this),C=n(b.length),x=o(t,C),y=arguments.length;if(0===y?r=i=0:1===y?(r=0,i=C-x):(r=y-2,i=m(h(a(e),0),C-x)),C+r-i>v)throw TypeError(g);for(d=c(b,i),u=0;u<i;u++)f=x+u,f in b&&l(d,u,b[f]);if(d.length=i,r<i){for(u=x;u<C-i;u++)f=u+i,p=u+r,f in b?b[p]=b[f]:delete b[p];for(u=C;u>C-i+r;u--)delete b[u-1]}else if(r>i)for(u=C-i;u>x;u--)f=u+i-1,p=u+r-1,f in b?b[p]=b[f]:delete b[p];for(u=0;u<r;u++)b[u+x]=arguments[u+2];return b.length=C-i+r,d}})},a640:function(t,e,r){"use strict";var i=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&i((function(){r.call(null,e||function(){throw 1},1)}))}},c975:function(t,e,r){"use strict";var i=r("23e7"),o=r("4d64").indexOf,a=r("a640"),n=r("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),d=n("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(t){return c?s.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-f955141c.39625c85.js.map