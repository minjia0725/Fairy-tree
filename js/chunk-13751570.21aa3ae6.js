(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13751570"],{2532:function(t,e,i){"use strict";var a=i("23e7"),n=i("5a34"),s=i("1d80"),o=i("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(s(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"32cd":function(t,e,i){"use strict";i("99af"),i("c975");e["a"]={data:function(){return{status:{loadingItem:""}}},methods:{addtoCart:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,n="".concat("https://vue-course-api.hexschool.io/","api/").concat("minjia","/cart");a.status.loadingItem=t;var s={product_id:t,qty:i},o=a.cartProductsID.indexOf(t);-1===o?this.$http.post(n,{data:s}).then((function(t){a.status.loadingItem="",e.$swal.fire({position:"center",width:"20rem",icon:"success",title:"成功加入購物車",showConfirmButton:!1,timer:800}),a.getCartProducts()})):(a.status.loadingItem="",this.$swal.fire({position:"center",width:"22rem",icon:"warning",title:"購物車有相同商品",showConfirmButton:!1,timer:800}))}}}},"44e7":function(t,e,i){var a=i("861d"),n=i("c6b6"),s=i("b622"),o=s("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},"53b7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,loader:"dots",color:"black",width:100,"background-color":"rgba(148,148,148)"},on:{"update:active":function(e){t.isLoading=e}}}),t._m(0),i("div",{staticClass:"container"},[i("div",{staticClass:"row justify-content-center mt-5"},[i("div",{staticClass:"col-md-10 mb-4"},[i("h3",{staticClass:"mb-0"},[t._v("我的收藏"),t.favoritesIDLength>0?i("span",[t._v("("+t._s(t.favoritesIDLength)+")")]):t._e()]),i("hr",{staticClass:"my-2 border-primary"}),t._l(t.favoritesdata,(function(e){return i("div",{key:e.id,staticClass:"d-flex mb-2 px-3 py-3 bg-third rounded",attrs:{"data-aos":"fade-left","data-aos-delay":"200"}},[i("img",{staticClass:"favorites-img",attrs:{src:e.imageUrl,alt:""}}),i("div",{staticClass:"ml-2 d-flex flex-fill flex-column justify-content-between"},[i("div",[i("div",{staticClass:"d-flex justify-content-between"},[i("h4",{staticClass:"h5 font-weight-bold"},[t._v(t._s(e.title))]),i("i",{staticClass:"far fa-times-circle favorites-del h4 mb-0",on:{click:function(i){return t.delFavorite(e.id)}}})]),i("span",{staticClass:"font-weight-bold"},[t._v("類別："),i("span",{staticClass:"badge badge-info align-text-bottom"},[t._v(t._s(e.category))])])]),i("div",[i("span",{staticClass:"text-dark favorites-price font-weight-bold"},[t._v(t._s(t._f("currency")(e.price)))]),i("del",{staticClass:"text-black-50 font-weight-bold"},[t._v(t._s(t._f("currency")(e.origin_price)))])]),i("div",{staticClass:"ml-auto"},[i("button",{staticClass:"btn btn-outline-secondary rounded-0",on:{click:function(i){return t.addtoCart(e.id)}}},[t.status.loadingItem===e.id?i("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加入購物車 ")]),i("button",{staticClass:"px-4 btn btn-secondary rounded-0",on:{click:function(i){return t.goToCart(e.id)}}},[t._v("直接購買")])])])])})),0===t.favoritesIDLength?i("div",{staticClass:"text-center"},[i("h3",[t._v("您的收藏列表目前是空的！")]),i("router-link",{staticClass:"text-decoration-none h4",attrs:{to:"/customerProducts"}},[i("i",{staticClass:"fas fa-reply"}),t._v(" 逛逛商品 ")])],1):t._e()],2)])])],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-bgi bg-cover d-flex-center flex-column",staticStyle:{"background-image":"url('https://ibighit.com/bts/images/bts/schedule/schedule-kv.jpg')"}},[i("h2",{staticClass:"product-bgi-text font-weight-bold mb-0 text-white"},[t._v(" 收藏商品 ")])])}],s=(i("99af"),i("4de4"),i("caad"),i("c975"),i("a434"),i("2532"),i("32cd")),o=i("675e"),r=i("4c77"),c={name:"Favorites",data:function(){return{favoritesID:JSON.parse(localStorage.getItem("addFavoriteID"))||[],favoritesIDLength:"",productAll:{},favoritesdata:[],isLoading:!1,status:{loadingItem:""}}},mixins:[s["a"],o["a"],r["a"]],methods:{getFavorites:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("minjia","/products/all");t.isLoading=!0,t.$http.get(e).then((function(e){t.productAll=e.data.products,t.favoritesIDLength=t.favoritesID.length,t.favoritesdata=t.productAll.filter((function(e){return t.favoritesID.includes(e.id)})),t.isLoading=!1}))},delFavorite:function(t){var e=this,i=e.favoritesID.indexOf(t);e.favoritesID.splice(i,1),e.getFavorites(),e.$swal.fire({position:"center",width:"20rem",icon:"success",title:"已移除收藏",showConfirmButton:!1,timer:1e3}),localStorage.setItem("addFavoriteID",JSON.stringify(e.favoritesID))}},created:function(){this.getFavorites()}},d=c,l=i("2877"),u=Object(l["a"])(d,a,n,!1,null,null,null);e["default"]=u.exports},"5a34":function(t,e,i){var a=i("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"675e":function(t,e,i){"use strict";i("99af"),i("c975");e["a"]={methods:{goToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this;i.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io/","api/").concat("minjia","/cart"),n={product_id:t,qty:e},s=i.cartProductsID.indexOf(t);-1===s?this.$http.post(a,{data:n}).then((function(t){i.isLoading=!1,i.$router.push("/cart")})):i.$router.push("/cart")}}}},a434:function(t,e,i){"use strict";var a=i("23e7"),n=i("23cb"),s=i("a691"),o=i("50c4"),r=i("7b0b"),c=i("65f0"),d=i("8418"),l=i("1dde"),u=i("ae40"),f=l("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,g=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,e){var i,a,l,u,f,h,b=r(this),x=o(b.length),C=n(t,x),_=arguments.length;if(0===_?i=a=0:1===_?(i=0,a=x-C):(i=_-2,a=g(v(s(e),0),x-C)),x+i-a>p)throw TypeError(m);for(l=c(b,a),u=0;u<a;u++)f=C+u,f in b&&d(l,u,b[f]);if(l.length=a,i<a){for(u=C;u<x-a;u++)f=u+a,h=u+i,f in b?b[h]=b[f]:delete b[h];for(u=x;u>x-a+i;u--)delete b[u-1]}else if(i>a)for(u=x-a;u>C;u--)f=u+a-1,h=u+i-1,f in b?b[h]=b[f]:delete b[h];for(u=0;u<i;u++)b[u+C]=arguments[u+2];return b.length=x-a+i,l}})},a640:function(t,e,i){"use strict";var a=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&a((function(){i.call(null,e||function(){throw 1},1)}))}},ab13:function(t,e,i){var a=i("b622"),n=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,"/./"[t](e)}catch(a){}}return!1}},c975:function(t,e,i){"use strict";var a=i("23e7"),n=i("4d64").indexOf,s=i("a640"),o=i("ae40"),r=[].indexOf,c=!!r&&1/[1].indexOf(1,-0)<0,d=s("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!d||!l},{indexOf:function(t){return c?r.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},caad:function(t,e,i){"use strict";var a=i("23e7"),n=i("4d64").includes,s=i("44d2"),o=i("ae40"),r=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!r},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
//# sourceMappingURL=chunk-13751570.21aa3ae6.js.map