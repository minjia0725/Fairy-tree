(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05ceac90"],{8117:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("loading",{attrs:{active:e.isLoading,"can-cancel":!0,loader:"dots",color:"black",width:100,"background-color":"rgba(148,148,148)"},on:{"update:active":function(t){e.isLoading=t}}}),a("div",{staticClass:"row mt-4 justify-content-center"},[a("div",{staticClass:"col-10"},[a("orderProcess",[a("i",{staticClass:"far fa-check-circle",attrs:{slot:"change1"},slot:"change1"}),a("h6",{staticClass:"border border-primary bg-primary text-white text-center rounded py-2",attrs:{slot:"change2"},slot:"change2"},[e._v(" 2.填寫訂單資料 "),a("i",{staticClass:"far fa-circle"})])])],1),a("div",{staticClass:"col-md-10"},[a("div",{staticClass:"row mb-6"},[a("div",{staticClass:"col-md-7 checkout mt-4"},[a("h2",{staticClass:"font-weight-bold"},[e._v("訂單資訊")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.createOrder(t)}}},[a("div",{staticClass:"form-group mt-4"},[a("label",{attrs:{for:"nameInput"}},[e._v("*收件人姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control rounded-0 border-primary",class:{"is-invalid":e.errors.has("name")},attrs:{name:"name",type:"text",id:"nameInput","aria-describedby":"nameImput",placeholder:"請輸入姓名"},domProps:{value:e.form.user.name},on:{input:function(t){t.target.composing||e.$set(e.form.user,"name",t.target.value)}}}),e.errors.has("name")?a("span",{staticClass:"text-danger"},[e._v("請輸入姓名")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"emailInput"}},[e._v("*Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("email")},attrs:{name:"email",type:"email",id:"emailInput","aria-describedby":"emailHelp",placeholder:"請輸入Email"},domProps:{value:e.form.user.email},on:{input:function(t){t.target.composing||e.$set(e.form.user,"email",t.target.value)}}}),e.errors.has("email")?a("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("email")))]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"phoneInput"}},[e._v("*收件人電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("tel")},attrs:{name:"tel",type:"tel",id:"phoneInput","aria-describedby":"phoneImput",placeholder:"請輸入電話"},domProps:{value:e.form.user.tel},on:{input:function(t){t.target.composing||e.$set(e.form.user,"tel",t.target.value)}}}),e.errors.has("tel")?a("span",{staticClass:"text-danger"},[e._v("請輸入電話")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"addressInput"}},[e._v("*收件人地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control rounded-0",class:{"is-invalid":e.errors.has("address")},attrs:{name:"address",type:"text",id:"addressInput","aria-describedby":"addressImput",placeholder:"請輸入地址"},domProps:{value:e.form.user.address},on:{input:function(t){t.target.composing||e.$set(e.form.user,"address",t.target.value)}}}),e.errors.has("address")?a("span",{staticClass:"text-danger"},[e._v("請輸入地址")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"paySelect"}},[e._v("*付款方式")]),a("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.form.user.pay,expression:"form.user.pay"}],staticClass:"form-control rounded-0",class:{"is-invalid":e.errors.has("pay")},attrs:{name:"pay",id:"paySelect"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.user,"pay",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[e._v("請選擇付款方式")]),a("option",{attrs:{value:"貨到付款"}},[e._v("貨到付款")]),a("option",{attrs:{value:"ATM"}},[e._v("ATM")]),a("option",{attrs:{value:"Credit Card"}},[e._v("Credit Card")]),a("option",{attrs:{value:"ApplePay"}},[e._v("ApplePay")]),a("option",{attrs:{value:"GooglePay"}},[e._v("GooglePay")])]),e.errors.has("pay")?a("span",{staticClass:"text-danger"},[e._v("請選擇付款方式")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"message"}},[e._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{id:"message",cols:"30",rows:"5",placeholder:"歡迎留下備註"},domProps:{value:e.form.message},on:{input:function(t){t.target.composing||e.$set(e.form,"message",t.target.value)}}})]),e._m(0)])]),a("div",{staticClass:"col-md-5 checkout"},[a("div",{staticClass:"border border-primary px-6 py-7 mt-md-4 sticky-top"},[a("h2",{staticClass:"h3 font-weight-bold"},[e._v("訂單明細")]),e._l(e.cartProducts.carts,(function(t,r){return a("div",{key:r,staticClass:"d-flex justify-content-between mb-2"},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"checkout-orders-img",attrs:{src:t.product.imageUrl}}),a("div",{staticClass:"ml-3"},[a("h5",{staticClass:"checkout-orders-title"},[e._v(" "+e._s(t.product.title)+" ")]),a("span",[e._v(e._s(e._f("currency")(t.product.price))+" / "+e._s(t.product.unit))])])]),a("span",{staticClass:"ml-2"},[e._v("x"+e._s(t.qty))])])})),a("hr",{staticClass:"border-primary"}),a("div",{staticClass:"d-flex justify-content-between"},[a("span",[e._v("小計")]),a("span",[e._v("NT "+e._s(e._f("currency")(e.cartProducts.total)))])]),e.cartProducts.total!==e.cartProducts.final_total?a("div",{staticClass:"d-flex justify-content-between"},[a("span",[e._v("折扣")]),a("span",[e._v("- NT "+e._s(e._f("currency")(e.cartProducts.total-e.cartProducts.final_total)))])]):e._e(),a("div",{staticClass:"input-group mt-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.coupon_code,expression:"coupon_code"}],staticClass:"border-primary form-control rounded-0",attrs:{type:"text",placeholder:"請輸入優惠碼","aria-label":"請輸入優惠碼","aria-describedby":"button-addon2"},domProps:{value:e.coupon_code},on:{input:function(t){t.target.composing||(e.coupon_code=t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary rounded-0",attrs:{type:"button",id:"button-addon2"},on:{click:e.addCouponCode}},[e._v(" 套用優惠碼 ")])])]),a("hr",{staticClass:"border-primary"}),a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"h3"},[e._v("總計")]),a("span",{staticClass:"h3"},[e._v("NT "+e._s(e._f("currency")(e.cartProducts.final_total)))])])],2)])])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-right mb-3 mb-md-0"},[a("input",{staticClass:"btn btn-primary rounded-0",attrs:{type:"submit",value:"送出訂單"}})])}],o=(a("99af"),a("c9bd")),i=a("4c77"),n={name:"Checkout",data:function(){return{form:{user:{name:"",email:"",tel:"",address:"",pay:""},message:""},isLoading:!1,coupon_code:""}},components:{orderProcess:o["a"]},mixins:[i["a"]],methods:{createOrder:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io/","api/").concat("minjia","/order"),a=e.form;e.$validator.validate().then((function(r){r?e.$http.post(t,{data:a}).then((function(t){t.data.success&&e.$router.push("/customerCheckOut/".concat(t.data.orderId))})):e.$swal.fire({position:"center",width:"20rem",icon:"error",title:"欄位不完整，請填寫正確資料"})}))},addCouponCode:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io/","api/").concat("minjia","/coupon"),a={code:e.coupon_code};""===e.coupon_code?e.$swal.fire({position:"top",width:"20rem",icon:"error",title:"優惠碼不得為空",showConfirmButton:!1,timer:1e3}):"FairyTree"!==e.coupon_code?e.$swal.fire({position:"top",width:"20rem",icon:"error",title:"無此優惠碼",showConfirmButton:!1,timer:1e3}):e.$http.post(t,{data:a}).then((function(t){e.getCartProducts()}))}}},c=n,l=a("2877"),d=Object(l["a"])(c,r,s,!1,null,null,null);t["default"]=d.exports},c9bd:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-3"},[a("h6",{staticClass:"border border-primary bg-primary text-white text-center rounded py-2"},[e._v(" 1.確認購物清單 "),e._t("change1",[a("i",{staticClass:"far fa-circle"})])],2)]),a("div",{staticClass:"col-lg-3"},[e._t("change2",[e._m(0)])],2),a("div",{staticClass:"col-lg-3"},[e._t("change3",[e._m(1)])],2)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h6",{staticClass:"border border-primary text-center rounded py-2"},[e._v(" 2.填寫訂單資料 "),a("i",{staticClass:"far fa-circle"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h6",{staticClass:"border border-primary text-center rounded py-2"},[e._v(" 3.付款 & 完成 "),a("i",{staticClass:"far fa-circle"})])}],o={name:"OrderProcess"},i=o,n=a("2877"),c=Object(n["a"])(i,r,s,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-05ceac90.56eca924.js.map